{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst selector = document.querySelector(\"#datetime-picker\");\nlet userSelectedDate = null;\nconst buttonStart = document.querySelector('button[data-start]');\nconst daysSpan = document.querySelector('span[data-days]');\nconst hoursSpan = document.querySelector('span[data-hours]');\nconst minutesSpan = document.querySelector('span[data-minutes]');\nconst secondsSpan = document.querySelector('span[data-seconds]');\n\n\nconst options = {\n  enableTime: true, // Вмикає вибір часу\n  time_24hr: true, // Відображає вибір часу в 24-годинному режимі без вибору AM/PM, якщо ввімкнено\n  defaultDate: new Date(), // Встановлює початкову вибрану дату (дати)\n  minuteIncrement: 1, // Налаштовує крок для введення хвилин (включно з прокручуванням)\n  \n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n      userSelectedDate = selectedDates[0];\n      if (userSelectedDate <= new Date()) {\n          buttonStart.disabled = true;\n          return iziToast.error({title: 'Error', message: 'Please choose a date in the future'});\n        } else {\n            userSelectedDate = selectedDates[0];\n          buttonStart.disabled = false;\n\n          return \n      }\n      \n    },\n};\n\nflatpickr(selector, options)\n\nbuttonStart.addEventListener('click', () => {\n    buttonStart.disabled = true;\n    selector.disabled = true;\n\n    const timerId = setInterval(() => {\n        if (!userSelectedDate) {\n            return;\n        }\n\n        const defaultDate = new Date();\n        const diff = userSelectedDate - defaultDate;\n\n        if (diff <= 0) {\n            clearInterval(timerId);\n            selector.disabled = false;\n            return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(diff);\n        daysSpan.textContent = days.toString().padStart(2, '0');\n        hoursSpan.textContent = hours.toString().padStart(2, '0');\n        minutesSpan.textContent = minutes.toString().padStart(2, '0');\n        secondsSpan.textContent = seconds.toString().padStart(2, '0');\n    }, 1000);\n});\n\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["selector","userSelectedDate","buttonStart","daysSpan","hoursSpan","minutesSpan","secondsSpan","options","selectedDates","iziToast","flatpickr","timerId","diff","days","hours","minutes","seconds","convertMs","ms"],"mappings":"+IAMA,MAAMA,EAAW,SAAS,cAAc,kBAAkB,EAC1D,IAAIC,EAAmB,KACvB,MAAMC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EAGzDC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEf,QAAQC,EAAe,CAGrB,GAFA,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BP,EAAmBO,EAAc,CAAC,EAC9BP,GAAoB,IAAI,KACxB,OAAAC,EAAY,SAAW,GAChBO,EAAS,MAAM,CAAC,MAAO,QAAS,QAAS,oCAAoC,CAAC,EAEnFR,EAAmBO,EAAc,CAAC,EACpCN,EAAY,SAAW,EAK5B,CACL,EAEAQ,EAAUV,EAAUO,CAAO,EAE3BL,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvBF,EAAS,SAAW,GAEpB,MAAMW,EAAU,YAAY,IAAM,CAC9B,GAAI,CAACV,EACD,OAIJ,MAAMW,EAAOX,EADO,IAAI,KAGxB,GAAIW,GAAQ,EAAG,CACX,cAAcD,CAAO,EACrBX,EAAS,SAAW,GACpB,MACH,CAED,KAAM,CAAE,KAAAa,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAI,EACxDT,EAAS,YAAcU,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EACtDT,EAAU,YAAcU,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EACxDT,EAAY,YAAcU,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAC5DT,EAAY,YAAcU,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CAC/D,EAAE,GAAI,CACX,CAAC,EAGD,SAASC,EAAUC,EAAI,CAQrB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAE1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EAEpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EAEjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}